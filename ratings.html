<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ratings & Reviews | SS Pets</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ===== HEADER ===== -->
  <header>
    <img src="images/logo.png" alt="SS Pets Logo" class="logo" />
    <nav>
      <a href="index.html">Home</a>
      <a href="schedule.html">Schedule</a>
      <a href="services.html">Services</a>
      <a href="ratings.html" class="active">Ratings</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <!-- ===== MAIN CONTENT ===== -->
  <main>
    <section class="schedule">
      <h1>üêæ Ratings & Reviews</h1>
      <p>We‚Äôd love to hear your feedback! Leave a star rating and a quick comment below.</p>

      <div class="note">
        Your reviews are stored locally on your browser ‚Äî visible only to you.
      </div>

      <!-- Rating Form -->
      <div id="ratingForm">
        <label for="starRating">Your Rating</label>
        <div id="starRating" class="stars">
          <span data-value="1">‚òÖ</span>
          <span data-value="2">‚òÖ</span>
          <span data-value="3">‚òÖ</span>
          <span data-value="4">‚òÖ</span>
          <span data-value="5">‚òÖ</span>
        </div>

        <label for="comment">Your Comment</label>
        <textarea id="comment" placeholder="Write your comment..." rows="4"></textarea>

        <button id="submitBtn">Submit Review</button>
      </div>

      <!-- Reviews Section -->
      <div class="reviews" id="reviews" style="margin-top: 30px;">
        <h2 style="text-align:center; color:#2b6b55; margin-bottom:15px;">What Others Said</h2>
      </div>
    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer>
    ¬© 2025 SS Pets. All rights reserved.
  </footer>

  <!-- ===== SCRIPT ===== -->
  <script>
    const stars = document.querySelectorAll("#starRating span");
    const commentBox = document.getElementById("comment");
    const submitBtn = document.getElementById("submitBtn");
    const reviewsDiv = document.getElementById("reviews");
    let selectedRating = 0;

    const savedReviews = JSON.parse(localStorage.getItem("reviews")) || [];
    displayReviews(savedReviews);

    stars.forEach(star => {
      star.addEventListener("click", () => {
        selectedRating = parseInt(star.getAttribute("data-value"));
        stars.forEach(s => s.classList.remove("active"));
        for (let i = 0; i < selectedRating; i++) stars[i].classList.add("active");
      });
    });

    submitBtn.addEventListener("click", () => {
      const comment = commentBox.value.trim();
      if (selectedRating === 0 || comment === "") {
        alert("Please select a rating and enter a comment!");
        return;
      }
      const review = { rating: selectedRating, comment, date: new Date().toLocaleString() };
      savedReviews.push(review);
      localStorage.setItem("reviews", JSON.stringify(savedReviews));
      displayReviews(savedReviews);
      commentBox.value = "";
      stars.forEach(s => s.classList.remove("active"));
      selectedRating = 0;
    });

    function displayReviews(reviews) {
      const list = reviews.map(r => `
        <div class="note" style="margin-bottom:10px; background:#fff; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.05); padding:15px;">
          <div style="color:#3c8c74; font-size:20px;">
            ${'‚òÖ'.repeat(r.rating)}${'‚òÜ'.repeat(5 - r.rating)}
          </div>
          <p style="margin:8px 0; color:#333;">${r.comment}</p>
          <small style="color:#777;">${r.date}</small>
        </div>
      `).join("");
      reviewsDiv.innerHTML = `
        <h2 style="text-align:center; color:#2b6b55; margin-bottom:15px;">What Others Said</h2>
        ${list || '<p style="text-align:center; color:#777;">No reviews yet. Be the first to leave one!</p>'}
      `;
    }

    // Smooth transition navigation
    document.querySelectorAll("nav a").forEach(link => {
      link.addEventListener("click", (e) => {
        e.preventDefault();
        const href = link.getAttribute("href");
        document.body.style.opacity = 0;
        setTimeout(() => window.location.href = href, 150);
      });
    });
  </script>

  <style>
    /* Match global style.css theme */
    textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.2s ease;
      margin-bottom: 18px;
    }

    textarea:focus {
      outline: none;
      border-color: #3c8c74;
    }

    .stars {
      display: flex;
      justify-content: left;
      gap: 6px;
      margin: 8px 0 16px 0;
      cursor: pointer;
      font-size: 28px;
    }

    .stars span {
      color: #ccc;
      transition: color 0.2s;
    }

    .stars span.active {
      color: #f4c542;
    }
  </style>
</body>
</html>
